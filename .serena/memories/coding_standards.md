# コーディング規約・スタイルガイド

## 命名規則

### クラス名
- **PascalCase**を使用
- 役割が明確にわかる名前を付ける

### レイヤー別命名規則
- **ドメインサービス**: `*DomainService`
- **アプリケーションサービス**: `*ApplicationService`
- **リポジトリポート**: `*RepositoryPort` (インターフェース)
- **リポジトリ実装**: `*RepositoryAdapter`
- **コントローラ**: `*Controller`
- **例外**: `*Exception`

### メソッド名
- **camelCase**を使用
- 動詞で始める（例: `createSample`, `findById`, `updateText`）

### 定数
- **SCREAMING_SNAKE_CASE**を使用

### 変数名
- **camelCase**を使用
- 意味のある名前を付ける

## アノテーション使用規則

### サービス層
- **アプリケーションサービス**: `@Service` + `@Transactional`
- **ドメインサービス**: アノテーションなし（純粋なJavaクラス）

### リポジトリ層
- **リポジトリ実装**: `@Repository`
- **リポジトリポート**: アノテーションなし（インターフェース）

### プレゼンテーション層
- **Webコントローラ**: `@Controller`
- **REST APIコントローラ**: `@RestController`

## パッケージ構成ルール

### ドメイン層（domain/）
- フレームワークに依存しない純粋なJavaコード
- 他のレイヤーに依存してはならない
- ビジネスロジックの中核を実装
- `java.util.*`, `java.time.*` などの標準ライブラリのみ使用可能

### アプリケーション層（application/）
- ドメイン層のみに依存
- ユースケースの実装とオーケストレーション
- トランザクション境界を管理
- ビジネスロジックは含まない（ドメイン層に委譲）

### インフラストラクチャ層（infrastructure/）
- ドメインとアプリケーション層に依存可能
- 技術的な詳細を実装
- フレームワーク・ライブラリとの結合を担当

### プレゼンテーション層（presentation/）
- アプリケーション層のみに依存
- HTTPリクエスト/レスポンスの処理
- データ変換のみ行う（ビジネスロジック不可）

## コードスタイル
- インデント: スペース2個または4個（プロジェクト統一）
- 行の長さ: 最大120文字を推奨
- null安全: `Objects.requireNonNull()` を積極的に使用
- 不変性: 可能な限り `final` を使用
- バリューオブジェクト: immutableに実装

## テストコード規約
- テストクラス名: `*Test`
- テストメソッド名: `should_期待結果_when_条件` または日本語
- Given-When-Then構造を意識
- 各層で適切なテスト戦略を適用

## ドキュメント
- 複雑なビジネスロジックにはJavadocコメントを記述
- パッケージレベルの説明は `package-info.java` に記述
- アーキテクチャ上重要な決定は `docs/` に記録
